<% currently_at "#{@category.model_name.human} #{@category.title.downcase}" %>
<% provide :page_title, "#{@category.model_name.human} #{@category.title.downcase}" %>
<% provide :nav_title, "#{@category.model_name.human} #{@category.title.downcase}" %>
<% provide :nav_path, admins_categories_path %>
<% provide :main_title, "#{@category.model_name.human} #{@category.title.downcase}" %>

<!-- Category title -->
<%= turbo_frame_tag dom_id(@category, 'form'), 
    class: 'items-center flex mx-auto my-4 w-full relative border-b border-b-gray-500 hover:border-b-gray-300' do %>
    <%= tag.p @category.ru, class: "text-start dark:text-gray-500 text-xl font-bold uppercase" %>
    <p class="mx-2 text-gray-500">|</p>
    <%= tag.p @category.en, class: "text-start dark:text-gray-500 text-xl font-bold uppercase" %>
    <p class="mx-2 text-gray-500">|</p>
    <%= tag.p @category.uk, class: "text-start dark:text-gray-500 text-xl font-bold uppercase" %>
    <p class="mx-2 text-gray-500">|</p>
    <%= tag.p @category.he, class: "text-start dark:text-gray-500 text-xl font-bold uppercase" %>
    <%= link_to edit_admins_category_path(@category), data: {turbo_frame: dom_id(@category, 'form')},
        class: 'absolute right-0 flex py-0 mr-2 text-base font-medium justify-end items-center text-end text-gray-500 hover:text-gray-700 hover:underline' do %>
        <%= heroicon 'pencil-square', class: 'w-5 h-5'%>
    <% end %>
<% end %>
    
<div class="my-3">
    <%= form_with model: [:admins, @category] do |f| %>
        <!-- Images -->
        <div class="flex grid grid-rows-1 text-center items-center justify-center">
          <div class="mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 dark:border-gray-700 hover:dark:border-gray-600 border-dashed rounded-md">
            <div class="space-y-1 text-center">
              <%= f.label :images, class: "cursor-pointer" do %>
                  <%= heroicon 'photo', class: "mx-auto h-12 w-12 text-gray-700"%>
                  <div class="text-gray-700 mt-1 mb-2 justify-center text-center text-base" data-controller="image" id="Img">
                      <%= tag.span 'Upload images', 
                          class: "relative rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"
                      %>
                          <%= f.file_field :images, multiple: true, class: "sr-only", accept: "image/png, image/jpeg, image/jpg", "data-image-target": "input", "data-action": "image#preview" %>
                  </div>
                  <%= tag.p 'PNG, JPG, GIF up to 10MB', class: "text-xs text-gray-700" %>
              <% end %>
            </div>
          </div>
        </div>
        <!-- Button Save -->
        <div class="flex justify-start mt-6">
            <%= f.submit t('global.save_btn'), class: "cursor-pointer px-6 py-2 leading-5 text-white transition-colors duration-200 transform  rounded-md  focus:outline-none bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4"%>
        </div>
    <% end %>
</div>
    
<div class="grid grid-cols-2 md:grid-cols-4 gap-4">
    <% if @images.count.positive?%>
            <%= @images.each do |image| %>
        <div class="grid gap-4">
            <div>
                <%= image_tag image, class: "h-auto max-w-full rounded-lg"%>
            </div>
        </div>
            <% end %>
    <% else %>
        <%= tag.p 'Нету фото', class: 'text-center text-gray-500 col-span-full'%>
    <% end%>
</div>