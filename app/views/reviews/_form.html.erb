<!-- Email form -->
<%= turbo_frame_tag @review do %>
    <div class="p-4 py-6 rounded-lg bg-gray-50 dark:bg-black md:p-8" id="#contact_form">
        <%= form_for @review, data: {turbo_frame: '_top'} do |f| %>
            <%= render 'shared/messages/error_messages', resource: @review%>
            
            <div class="-mx-2 md:items-center md:flex">
                <div class="flex-1 px-2">
                    <%= f.label :first_name, t('contact_me.first_name'), class: "block mb-2 text-lg text-gray-600 dark:text-gray-400" %>
                    <%= f.text_field :first_name, required: true,
                        class: "block w-full px-5 py-2.5 mt-2 text-gray-700 placeholder-gray-400 bg-white border border-gray-200 rounded-lg dark:placeholder-gray-600 dark:bg-black dark:text-gray-300 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40", placeholder: t('contact_me.first_name') %>
                </div>

                <div class="flex-1 px-2 mt-4 md:mt-0">
                    <%= f.label :last_name, t('contact_me.last_name'), class: "block mb-2 text-lg text-gray-600 dark:text-gray-400" %>
                    <%= f.text_field :last_name, required: true,
                        class: "block w-full px-5 py-2.5 mt-2 text-gray-700 placeholder-gray-400 bg-white border border-gray-200 rounded-lg dark:placeholder-gray-600 dark:bg-black dark:text-gray-300 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40", placeholder: t('contact_me.last_name') %>
                </div>
            </div>
            
            <div class="mt-4">
                <div class="flex items-center space-x-2 rtl:space-x-reverse mb-2 ">
                    <%= f.label :email, class: "block text-lg text-gray-600 dark:text-gray-400" %>
                    <!-- Popover button-->
                    <%= render 'shared/buttons/popover', icon: (heroicon 'exclamation-circle', class: "text-gray-500 hover:text-gray-300"), 
                        text: t('review.email_popover'), popover_id: 'author_email'%>
                </div>
                <%= f.text_field :email, required: true,
                    class: "block w-full px-5 py-2.5 mt-2 text-gray-700 placeholder-gray-400 bg-white border border-gray-200 rounded-lg dark:placeholder-gray-600 dark:bg-black dark:text-gray-300 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40", placeholder: 'youremail@example.com' %>
            </div>
            
            <div class="w-full mt-4">
                <%= f.label :message, t('contact_me.message'), class: "block mb-2 text-lg text-gray-600 dark:text-gray-400" %>
                <%= f.text_area :message, required: true,
                    class: "block w-full h-32 px-5 py-2.5 mt-2 text-gray-700 placeholder-gray-400 bg-white border border-gray-200 rounded-lg md:h-56 dark:placeholder-gray-600 dark:bg-black dark:text-gray-300 dark:border-gray-700 focus:border-blue-400 dark:focus:border-blue-400 focus:ring-blue-400 focus:outline-none focus:ring focus:ring-opacity-40", placeholder: t('contact_me.message_place') %>
            </div>
            
            <!-- Avatar -->
            <div class="mt-4 flex grid grid-rows-1 text-center items-center justify-center">
              <div class="flex justify-center px-6 pt-5 pb-6 border border-gray-300 dark:border-gray-700 hover:dark:border-gray-600 rounded-md">
                <div class="space-y-1 text-center text-gray-500 hover:text-gray-400">
                  <%= f.label :avatar, class: "cursor-pointer" do %>
                      <%= heroicon 'photo', class: "mx-auto h-12 w-12 text-gray-700"%>
                      <div class="text-gray-700 mt-1 mb-2 justify-center text-center text-base" data-controller="image" id="Img">
                          <%= tag.span t('avatar.upload'), 
                              class: "relative rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"
                          %>
                              <%= f.file_field :avatar, multiple: false, class: "sr-only", required: true,
                              accept: "image/png, image/jpeg, image/jpg", "data-image-target": "input", "data-action": "image#preview" %>
                      </div>
                      <%= tag.p 'PNG, JPG, WEBP up to 10MB', class: "text-xs" %>
                  <% end %>
                </div>
              </div>
            </div>

            <%= f.submit t('contact_me.send_message'), 
                class: "w-full px-6 py-3 mt-4 text-lg font-medium tracking-wide text-gray-300 hover:text-white cursor-pointer transition-colors duration-200 transform rounded-lg focus:outline-none bg-gradient-to-r from-gray-600 via-gray-700 to-gray-800 hover:bg-gradient-to-br focus:ring-opacity-50" %>
        <% end %>
    </div>
<% end %>